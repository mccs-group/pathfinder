**Конструирование паттернов**

На данный момент мы конструируем паттерн, вручную составляя его грамматику по сниппету кода, данный паттерн содержащий.

Следовательно, шаги по конструированию такие:

1) Взять сниппет кода S
2) Разметить и специализировать S
3) Построить грамматику в НФХ или сHФХ
4) Cформировать входные файлы солверу

Шаги 1, 4 могут быть полностью автоматизированы. Шаг 2 может быть автоматизирован, еcли предварительно задать специализатор для задачи. См. раздел "pattern_desctiption". Шаг 2 -- выбрать то, что нам нужно -- строго ручной.

Как упростить шаг 2? Пользуясь символической интерпретацией КС-грамматики : Для последовательности продукций Z -> ... -> w "подстрока w обладает свойством Z", будем
рассматривать сентенциальную форму N = N1 N2 N3 .. Nm , считая, что каждая её позиция -- это некоторое свойство подпути в графе программы.
Например, N3 -- это цикл. Значит, нужно выводить цикл из N3: N3 --> .. --> X^n , и правила для его вывода нужно составлять либо вручную, либо использовать генератор. 

Всё, что будет происходить в правилах выше N3, свойства цикла X^n не определяет, иначе следует искать нетерминал, из которого выводимо всё, что касается данного цикла в паттерне.
Следовательно, Ni определяется как LUB всех термов, описывающих то, что выражает конструкция, выводимая из Ni.

Сведя таким образом задание паттерна к заданию N, получаем методику:

Вручную определяем значимые части паттерна из сниппета кода. Составляем из них сентенциальную форму N. Все возможные пути, описывающие паттерн, выводятся из N.
При этом правила вывода из позиций N_i можно составлять либо вручную, либо (в отдельных случаях) -- c помощью генератора, встроенного в редактор грамматик.

Завершив построение N, вызывыем метод finalize для грамматики в редакторе. finalize достраивает грамматику до сНФХ.
